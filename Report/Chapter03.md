# Capítulo III: Requirements Specification
## 3.1. To-Be Scenario Mapping
### Segmento 1: Hogares y Consumidores Individuales
![Diagrama To-Be Segmento 1](To-Be%20segmento%201.png)
### Segmento 2: Pequeñas y Medianas Empresas (PYMEs)
![Diagrama To-Be Segmento 2](To-Be%20segmento%202.png)
## 3.2. User Stories
### Epic 1 – Gestión de Usuarios
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU1 | HU1 | Hogar | Registro de cuenta | Como usuario de hogar, quiero registrarme en la plataforma para comenzar a gestionar mi consumo energético. | **Scenario 1: Registro exitoso**<br>Dado que el visitante se encuentra en la página de “Registro”<br>Y ha completado los campos obligatorios (nombre, correo electrónico válido y contraseña que cumple con los requisitos)<br>Cuando el visitante hace clic en el botón “Registrar”<br>Entonces el sistema crea la nueva cuenta en la base de datos<br>Y redirige al visitante a la página de inicio de sesión mostrando el mensaje “Registro exitoso, por favor inicie sesión”.<br><br>**Scenario 2: Correo electrónico ya registrado**<br>Dado que el visitante se encuentra en la página de “Registro”<br>Y ha completado los campos con un correo electrónico ya existente en la base de datos<br>Cuando el visitante hace clic en el botón “Registrar”<br>Entonces el sistema muestra un mensaje de error: “El correo ya está registrado, por favor intente con otro o inicie sesión”.<br><br>**Scenario 3: Contraseña no cumple requisitos**<br>Dado que el visitante se encuentra en la página de “Registro”<br>Y ha ingresado una contraseña con menos de 8 caracteres o sin los requisitos mínimos<br>Cuando intenta hacer clic en el botón “Registrar”<br>Entonces el sistema muestra el mensaje de validación: “La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas y un número”.<br><br>**Scenario 4: Campos obligatorios vacíos**<br>Dado que el visitante se encuentra en la página de “Registro”<br>Y ha dejado uno o más campos obligatorios en blanco<br>Cuando intenta hacer clic en el botón “Registrar”<br>Entonces el sistema resalta los campos vacíos en rojo<br>Y muestra el mensaje: “Complete todos los campos obligatorios para continuar”.<br><br>**Scenario 5: Error técnico inesperado**<br>Dado que el visitante ha completado todos los campos de forma válida<br>Y el sistema presenta un fallo en la comunicación con el servidor<br>Cuando el visitante hace clic en “Registrar”<br>Entonces el sistema muestra un mensaje de error: “Ha ocurrido un problema, por favor intente más tarde”<br>Y registra el error en los logs del backend. |
| HU2 | HU2 | PYME | Registro empresarial | Como administrador de PYME, quiero registrar mi empresa en la plataforma para gestionar el consumo energético de mis instalaciones. | **Scenario 1: Registro exitoso de empresa**<br>Dado que el administrador se encuentra en la página de “Registro empresarial”<br>Y ha completado los campos obligatorios (nombre de la empresa, RUC/NIF, correo corporativo y contraseña válida)<br>Cuando hace clic en el botón “Registrar empresa”<br>Entonces el sistema crea el perfil de la empresa en la base de datos<br>Y muestra el mensaje: “Registro exitoso, por favor inicie sesión con su cuenta empresarial”.<br><br>**Scenario 2: RUC/NIF ya registrado**<br>Dado que el administrador se encuentra en la página de “Registro empresarial”<br>Y ha ingresado un RUC/NIF que ya existe en la base de datos<br>Cuando hace clic en el botón “Registrar empresa”<br>Entonces el sistema muestra un mensaje de error: “El número de RUC/NIF ya está registrado, intente con otro o recupere acceso”.<br><br>**Scenario 3: Correo corporativo ya registrado**<br>Dado que el administrador completa el formulario de registro empresarial<br>Y ingresa un correo corporativo que ya está en uso en otra cuenta<br>Cuando intenta registrarse<br>Entonces el sistema muestra un mensaje de error: “El correo corporativo ya está vinculado a otra empresa”.<br><br>**Scenario 4: Contraseña no cumple requisitos**<br>Dado que el administrador ingresa una contraseña de menos de 8 caracteres o sin mayúsculas/números<br>Cuando hace clic en el botón “Registrar empresa”<br>Entonces el sistema muestra el mensaje: “La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas y un número”.<br><br>**Scenario 5: Campos obligatorios vacíos**<br>Dado que el administrador ha dejado uno o más campos obligatorios sin llenar<br>Cuando intenta registrarse<br>Entonces el sistema resalta los campos vacíos en rojo<br>Y muestra el mensaje: “Complete todos los campos obligatorios para continuar”.<br><br>**Scenario 6: Error técnico inesperado**<br>Dado que el administrador ha completado todos los campos correctamente<br>Y ocurre un error en la comunicación con el servidor<br>Cuando hace clic en “Registrar empresa”<br>Entonces el sistema muestra el mensaje: “Ha ocurrido un problema, por favor intente más tarde”<br>Y el error se guarda en los logs del backend. |
| HU3 | HU3 | Hogar | Inicio de sesión | Como usuario de hogar, quiero iniciar sesión de forma segura para acceder a mis datos de consumo. | **Scenario 1: Usuario inicia sesión correctamente**<br>Dado que el usuario está registrado en la plataforma<br>Y el usuario se encuentra en la pantalla de inicio de sesión<br>Cuando el usuario introduce su correo electrónico y contraseña correctos<br>Entonces el sistema autentica las credenciales<br>Y muestra el panel principal con los datos de consumo del usuario.<br><br>**Scenario 2: Usuario ingresa credenciales inválidas**<br>Dado que el usuario está en la pantalla de inicio de sesión<br>Cuando el usuario introduce un correo electrónico y/o contraseña incorrectos<br>Entonces el sistema rechaza la autenticación<br>Y muestra el mensaje: “Credenciales inválidas, verifique sus datos”.<br><br>**Scenario 3: Cierre automático de sesión por seguridad**<br>Dado que el usuario ha iniciado sesión en la plataforma<br>Cuando el usuario cierra el navegador o permanece inactivo por más de 10 minutos<br>Entonces el sistema cierra la sesión automáticamente<br>Y redirige al usuario nuevamente a la pantalla de inicio de sesión.<br><br>**Scenario 4: Usuario usa la opción “Recordar sesión”**<br>Dado que el usuario está en la pantalla de inicio de sesión<br>Y marca la casilla “Recordarme”<br>Cuando introduce credenciales correctas<br>Entonces el sistema autentica al usuario<br>Y mantiene la sesión activa en ese dispositivo hasta que el usuario cierre sesión manualmente. |
| HU4 | HU4 | PYME | Inicio de sesión corporativo | Como administrador de PYME, quiero iniciar sesión corporativa para acceder a las métricas de mi organización. | **Scenario 1: Inicio de sesión exitoso**<br>Dado que el administrador de PYME está registrado en la plataforma<br>Y el administrador se encuentra en la pantalla de inicio de sesión corporativa<br>Cuando introduce su correo corporativo y contraseña correctos<br>Entonces el sistema autentica las credenciales<br>Y muestra el panel principal con las métricas y consumo energético de la empresa.<br><br>**Scenario 2: Credenciales incorrectas**<br>Dado que el administrador de PYME está en la pantalla de inicio de sesión corporativa<br>Cuando introduce un correo corporativo y/o contraseña incorrectos<br>Entonces el sistema rechaza la autenticación<br>Y muestra el mensaje: “Credenciales inválidas, verifique sus datos”.<br><br>**Scenario 3: Cierre automático de sesión por inactividad**<br>Dado que el administrador de PYME ha iniciado sesión<br>Cuando permanece inactivo por más de X minutos o cierra el navegador<br>Entonces el sistema cierra la sesión automáticamente<br>Y redirige al administrador nuevamente a la pantalla de inicio de sesión corporativa.<br><br>**Scenario 4: Uso de opción “Recordar sesión”**<br>Dado que el administrador de PYME se encuentra en la pantalla de inicio de sesión corporativa<br>Y marca la casilla “Recordarme”<br>Cuando introduce credenciales correctas<br>Entonces el sistema autentica al administrador<br>Y mantiene la sesión activa en ese dispositivo hasta que el administrador cierre sesión manualmente. |
| HU5 | HU5 | PYME | Gestión de múltiples usuarios | Como administrador de PYME, quiero dar acceso a distintos roles (empleados, supervisores) para distribuir responsabilidades. | **Scenario 1: Agregar un nuevo usuario con rol específico**<br>Dado que el administrador de PYME ha iniciado sesión correctamente<br>Y se encuentra en la sección de gestión de usuarios<br>Cuando el administrador ingresa los datos del nuevo usuario y asigna un rol (empleado o supervisor)<br>Entonces el sistema crea el usuario en la base de datos<br>Y asigna el rol correspondiente<br>Y muestra un mensaje de confirmación: “Usuario agregado exitosamente”.<br><br>**Scenario 2: Intento de agregar usuario con correo existente**<br>Dado que el administrador intenta registrar un usuario con un correo electrónico ya registrado<br>Cuando hace clic en “Agregar usuario”<br>Entonces el sistema muestra un mensaje de error: “El correo electrónico ya está en uso, utilice otro”.<br><br>**Scenario 3: Modificar rol de un usuario existente**<br>Dado que el administrador está en la sección de gestión de usuarios<br>Y el usuario ya existe en la lista<br>Cuando el administrador cambia el rol del usuario y guarda los cambios<br>Entonces el sistema actualiza el rol del usuario en la base de datos<br>Y muestra un mensaje de confirmación: “Rol actualizado exitosamente”.<br><br>**Scenario 4: Eliminación de un usuario**<br>Dado que el administrador se encuentra en la lista de usuarios<br>Y selecciona un usuario para eliminar<br>Cuando confirma la acción de eliminación<br>Entonces el sistema elimina al usuario de la base de datos<br>Y muestra un mensaje: “Usuario eliminado correctamente”.<br><br>**Scenario 5: Error técnico al gestionar usuarios**<br>Dado que el administrador intenta agregar, modificar o eliminar un usuario<br>Cuando ocurre un fallo en la comunicación con el servidor<br>Entonces el sistema muestra el mensaje: “Ha ocurrido un error, por favor intente más tarde”<br>Y registra el error en los logs del backend. |
| HU6 | HU6 | Hogar | Personalización de perfil | Como usuario de hogar, quiero personalizar mi perfil con mis hábitos para recibir recomendaciones más relevantes. | **Scenario 1: Actualización exitosa de perfil**<br>Dado que el usuario de hogar ha iniciado sesión correctamente<br>Y se encuentra en la sección de “Perfil”<br>Cuando el usuario ingresa sus hábitos de consumo (horarios, dispositivos frecuentes, preferencias)<br>Y hace clic en “Guardar cambios”<br>Entonces el sistema actualiza la información en la base de datos<br>Y muestra un mensaje de confirmación: “Perfil actualizado correctamente”.<br><br>**Scenario 2: Campos obligatorios incompletos**<br>Dado que el usuario está en la sección de “Perfil”<br>Cuando deja uno o más campos obligatorios vacíos y hace clic en “Guardar cambios”<br>Entonces el sistema resalta los campos vacíos<br>Y muestra el mensaje: “Complete todos los campos obligatorios para actualizar su perfil”.<br><br>**Scenario 3: Datos inválidos**<br>Dado que el usuario introduce información en un formato incorrecto (por ejemplo, texto en un campo numérico)<br>Cuando hace clic en “Guardar cambios”<br>Entonces el sistema muestra un mensaje de validación: “Ingrese datos válidos en todos los campos”.<br><br>**Scenario 4: Error técnico al actualizar perfil**<br>Dado que el usuario ha completado todos los campos correctamente<br>Cuando ocurre un fallo en la comunicación con el servidor al guardar los cambios<br>Entonces el sistema muestra el mensaje: “Ha ocurrido un error, por favor intente más tarde”<br>Y registra el error en los logs del backend.<br><br>**Scenario 5: Visualización de perfil actualizado**<br>Dado que el usuario ha guardado cambios exitosamente<br>Cuando vuelve a acceder a la sección de “Perfil”<br>Entonces el sistema muestra la información actualizada correctamente en todos los campos. |
### Epic 2 – Monitoreo y Control Energético
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU7 | HU7 | Hogar | Dashboard en tiempo real | Como usuario de hogar, quiero visualizar el consumo energético en un dashboard para monitorear mi gasto en tiempo real. | **Scenario 1: Visualización del consumo en tiempo real**<br>Dado que el usuario ha iniciado sesión correctamente<br>Cuando abre la sección “Dashboard”<br>Entonces el sistema muestra el consumo energético actual en tiempo real<br>Y el sistema actualiza los datos cada minuto sin necesidad de recargar la página<br><br>**Scenario 2: Visualización de gráficos de consumo por dispositivo**<br>Dado que el usuario tiene varios dispositivos registrados<br>Cuando abre la sección “Dashboard”<br>Entonces el sistema muestra un gráfico por cada dispositivo mostrando su consumo actual<br>Y cada gráfico incluye etiquetas con nombre de dispositivo y valor de consumo<br><br>**Scenario 3: Indicadores de consumo total y comparativa diaria**<br>Dado que el usuario accede al dashboard<br>Cuando visualiza la información general<br>Entonces el sistema muestra el consumo total del hogar hasta el momento<br>Y compara el consumo con el promedio diario del usuario mostrando una alerta si supera el promedio |
| HU8 | HU8 | PYME | Dashboard empresarial | Como administrador de PYME, quiero ver un panel de consumo por áreas/departamentos para identificar ineficiencias. | **Scenario 1: Visualización del consumo por área**<br>Dado que el administrador ha iniciado sesión correctamente<br>Cuando abre la sección “Dashboard Empresarial”<br>Entonces el sistema muestra el consumo energético total de cada área/departamento<br>Y cada área incluye un gráfico indicando su consumo en tiempo real<br><br>**Scenario 2: Identificación de áreas con consumo elevado**<br>Dado que el sistema tiene datos históricos de consumo<br>Cuando se visualiza el dashboard<br>Entonces las áreas que superen los umbrales definidos se resaltan en rojo<br>Y se muestra una alerta indicando posibles ineficiencias<br><br>**Scenario 3: Comparativa entre áreas/departamentos**<br>Dado que existen múltiples áreas registradas<br>Cuando el administrador selecciona la opción “Comparativa de áreas”<br>Entonces el sistema genera un gráfico comparativo mostrando el consumo de todas las áreas<br>Y se indican porcentajes de consumo relativo entre cada departamento<br><br>**Scenario 4: Actualización automática de datos**<br>Dado que el administrador mantiene abierto el dashboard<br>Cuando pasan nuevos registros de consumo<br>Entonces el sistema actualiza automáticamente los gráficos y valores sin necesidad de recargar la página |
| HU9 | HU9 | Hogar | Control remoto de dispositivos | Como usuario de hogar, quiero encender/apagar mis dispositivos desde la app para ahorrar energía. | **Scenario 1: Encender un dispositivo desde la app**<br>Dado que el usuario ha iniciado sesión correctamente<br>Y tiene dispositivos registrados en su hogar<br>Cuando selecciona un dispositivo y pulsa “Encender”<br>Entonces el sistema envía la señal al dispositivo<br>Y el dispositivo se enciende, actualizando su estado en la app a “Encendido”<br><br>**Scenario 2: Apagar un dispositivo desde la app**<br>Dado que el usuario ha iniciado sesión correctamente<br>Y tiene dispositivos encendidos<br>Cuando selecciona un dispositivo y pulsa “Apagar”<br>Entonces el sistema envía la señal al dispositivo<br>Y el dispositivo se apaga, actualizando su estado en la app a “Apagado”<br><br>**Scenario 3: Visualización del estado de todos los dispositivos**<br>Dado que el usuario abre la sección “Mis dispositivos”<br>Cuando la app carga los datos<br>Entonces se muestran todos los dispositivos con su estado actual (Encendido / Apagado)<br>Y el usuario puede identificar rápidamente cuáles están activos y cuáles apagados<br><br>**Scenario 4: Notificación de fallo de control**<br>Dado que un dispositivo no responde a la señal de encendido/apagado<br>Cuando el usuario intenta controlarlo desde la app<br>Entonces el sistema muestra un mensaje de error indicando “No se pudo controlar el dispositivo. Intente nuevamente.” |
| HU10 | HU10 | PYME | Control remoto empresarial | Como administrador de PYME, quiero gestionar remotamente dispositivos de mi oficina para reducir gastos energéticos. | **Scenario 1: Encender dispositivos por área/departamento**<br>Dado que el administrador ha iniciado sesión correctamente<br>Y tiene áreas/departamentos con dispositivos registrados<br>Cuando selecciona un área y pulsa “Encender todos”<br>Entonces el sistema envía la señal a todos los dispositivos del área<br>Y cada dispositivo se enciende mostrando su estado actualizado en el dashboard<br><br>**Scenario 2: Apagar dispositivos por área/departamento**<br>Dado que el administrador ha iniciado sesión correctamente<br>Y algunos dispositivos están encendidos<br>Cuando selecciona un área y pulsa “Apagar todos”<br>Entonces el sistema envía la señal a todos los dispositivos del área<br>Y cada dispositivo se apaga mostrando su estado actualizado en el dashboard<br><br>**Scenario 3: Visualización del estado de los dispositivos corporativos**<br>Dado que el administrador abre la sección “Gestión de dispositivos”<br>Cuando la app carga los datos<br>Entonces se muestran todos los dispositivos con su estado actual (Encendido / Apagado)<br>Y se pueden filtrar por área, departamento o tipo de dispositivo<br><br>**Scenario 4: Notificación de fallo en dispositivos**<br>Dado que algún dispositivo no responde a la señal de control<br>Cuando el administrador intenta encender/apagar desde la app<br>Entonces el sistema muestra un mensaje de error indicando “No se pudo controlar el dispositivo. Verifique la conexión.” |
| HU11 | HU11 | Hogar | Programar horarios | Como usuario de hogar, quiero programar horarios de encendido/apagado de mis electrodomésticos para optimizar el consumo. | **Scenario 1: Programar un horario de encendido**<br>Dado que el usuario ha iniciado sesión correctamente<br>Y tiene dispositivos registrados<br>Cuando selecciona un dispositivo y establece un horario de encendido<br>Entonces el sistema guarda la programación<br>Y el dispositivo se enciende automáticamente a la hora establecida<br><br>**Scenario 2: Programar un horario de apagado**<br>Dado que el usuario ha iniciado sesión correctamente<br>Y tiene dispositivos encendidos<br>Cuando selecciona un dispositivo y establece un horario de apagado<br>Entonces el sistema guarda la programación<br>Y el dispositivo se apaga automáticamente a la hora establecida<br><br>**Scenario 3: Visualizar horarios programados**<br>Dado que el usuario abre la sección “Programaciones”<br>Cuando la app carga los datos<br>Entonces se muestran todos los horarios activos por dispositivo<br>Y se puede editar o eliminar cada programación<br><br>**Scenario 4: Notificación de conflicto de horarios**<br>Dado que el usuario intenta establecer un horario que entra en conflicto con otra programación<br>Cuando guarda el nuevo horario<br>Entonces el sistema muestra un mensaje de advertencia indicando “Conflicto de programación. Ajuste la hora para continuar.” |
| HU12 | HU12 | PYME | Programación grupal | Como administrador de PYME, quiero establecer horarios automáticos de apagado en áreas comunes para evitar consumos innecesarios. | **Scenario 1: Establecer horario de apagado por área**<br>Dado que el administrador ha iniciado sesión correctamente<br>Y existen áreas comunes con dispositivos registrados<br>Cuando selecciona un área y configura un horario de apagado automático<br>Entonces el sistema guarda la programación<br>Y todos los dispositivos del área se apagan automáticamente a la hora establecida<br><br>**Scenario 2: Visualizar horarios programados por área**<br>Dado que el administrador abre la sección “Programaciones corporativas”<br>Cuando la app carga los datos<br>Entonces se muestran todos los horarios activos por área<br>Y se puede editar o eliminar cada programación según sea necesario<br><br>**Scenario 3: Notificación de conflicto de horarios**<br>Dado que el administrador intenta establecer un horario que entra en conflicto con otra programación existente<br>Cuando guarda la nueva programación<br>Entonces el sistema muestra un mensaje de advertencia indicando “Conflicto de programación. Ajuste la hora para continuar.”<br><br>**Scenario 4: Confirmación de ejecución**<br>Dado que la hora programada de apagado ha llegado<br>Cuando los dispositivos se apagan automáticamente<br>Entonces el sistema actualiza el dashboard mostrando el estado “Apagado”<br>Y envía una notificación al administrador confirmando la ejecución del horario |
| HU13 | HU13 | Hogar | Gestión de dispositivos | Como usuario de hogar, quiero registrar y administrar mis dispositivos conectados para organizarlos en la app. | **Scenario 1: Registrar un nuevo dispositivo**<br>Dado que el usuario ha iniciado sesión correctamente<br>Cuando selecciona la opción “Agregar dispositivo”<br>Y completa los datos requeridos (nombre, tipo, ubicación)<br>Entonces el sistema guarda el dispositivo en su perfil<br>Y el dispositivo aparece listado en la sección “Mis dispositivos”<br><br>**Scenario 2: Editar información de un dispositivo registrado**<br>Dado que el usuario tiene dispositivos registrados<br>Cuando selecciona un dispositivo y elige la opción “Editar”<br>Y modifica los datos (nombre, tipo, ubicación)<br>Entonces el sistema actualiza la información<br>Y los cambios se reflejan inmediatamente en la lista de dispositivos<br><br>**Scenario 3: Eliminar un dispositivo registrado**<br>Dado que el usuario tiene dispositivos registrados<br>Cuando selecciona un dispositivo y pulsa “Eliminar”<br>Entonces el sistema solicita confirmación de eliminación<br>Y al confirmar, el dispositivo se elimina de la lista y del perfil del usuario<br><br>**Scenario 4: Visualizar dispositivos organizados por ubicación o tipo**<br>Dado que el usuario abre la sección “Mis dispositivos”<br>Cuando el sistema carga los datos<br>Entonces los dispositivos se muestran organizados por ubicación o tipo<br>Y el usuario puede filtrar o buscar dispositivos fácilmente |
| HU14 | HU14 | PYME | Gestión masiva de dispositivos | Como administrador de PYME, quiero dar de alta y controlar múltiples dispositivos de manera centralizada para optimizar su uso. | **Scenario 1: Dar de alta múltiples dispositivos**<br>Dado que el administrador ha iniciado sesión correctamente<br>Cuando selecciona la opción “Agregar dispositivos masivamente”<br>Y carga un archivo con la información de varios dispositivos (nombre, tipo, ubicación)<br>Entonces el sistema registra todos los dispositivos correctamente<br>Y los dispositivos aparecen listados en la sección “Gestión de dispositivos”<br><br>**Scenario 2: Controlar dispositivos de manera centralizada**<br>Dado que el administrador tiene múltiples dispositivos registrados<br>Cuando selecciona un grupo de dispositivos y elige “Encender” o “Apagar”<br>Entonces el sistema envía la señal a todos los dispositivos seleccionados<br>Y actualiza su estado en el dashboard mostrando “Encendido” o “Apagado”<br><br>**Scenario 3: Editar información de dispositivos masivos**<br>Dado que el administrador desea actualizar información de varios dispositivos<br>Cuando selecciona un grupo de dispositivos y aplica cambios (ubicación, tipo, área)<br>Entonces el sistema actualiza la información de todos los dispositivos seleccionados<br>Y los cambios se reflejan inmediatamente en la lista<br><br>**Scenario 4: Eliminación masiva de dispositivos**<br>Dado que el administrador desea eliminar varios dispositivos<br>Cuando selecciona un grupo de dispositivos y pulsa “Eliminar”<br>Entonces el sistema solicita confirmación<br>Y al confirmar, todos los dispositivos seleccionados se eliminan de manera centralizada |
### Epic 3 – Reportes y Alertas
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU15 | HU15 | Hogar | Reporte diario | Como usuario de hogar, quiero recibir un reporte diario de mi consumo para tener visibilidad de mis hábitos. | **Scenario 1: Generación automática del reporte diario**<br>Dado que el usuario tiene dispositivos registrados en la plataforma<br>Cuando el sistema procesa la información de consumo al final del día<br>Entonces genera un reporte con el detalle del consumo energético diario<br>Y el reporte queda disponible en la sección “Historial de consumo” de la app<br><br>**Scenario 2: Envío de reporte por notificación**<br>Dado que el usuario tiene configuradas notificaciones en la aplicación<br>Cuando el reporte diario es generado<br>Entonces el sistema envía una notificación push al dispositivo móvil<br>Y al abrir la notificación, el usuario accede directamente al reporte<br><br>**Scenario 3: Contenido del reporte**<br>Dado que el usuario consulta su reporte diario<br>Cuando el reporte es mostrado en la app<br>Entonces el sistema presenta los datos de consumo total en kWh, costo estimado y dispositivos de mayor consumo<br>Y muestra comparaciones con el día anterior para identificar variaciones<br><br>**Scenario 4: Acceso a reportes pasados**<br>Dado que el usuario quiere revisar reportes de días anteriores<br>Cuando selecciona una fecha en el calendario dentro de “Historial de consumo”<br>Entonces el sistema muestra el reporte correspondiente a ese día con el mismo formato |
| HU16 | HU16 | PYME | Reporte semanal corporativo | Como administrador de PYME, quiero recibir reportes semanales consolidados para analizar patrones de consumo en mi empresa. | **Scenario 1: Generación automática del reporte semanal**<br>Dado que el administrador tiene múltiples dispositivos registrados en la plataforma<br>Cuando el sistema procesa la información de consumo al finalizar la semana<br>Entonces genera un reporte consolidado con el detalle del consumo energético semanal de la empresa<br>Y el reporte queda disponible en la sección “Historial corporativo” de la app<br><br>**Scenario 2: Envío del reporte por correo electrónico**<br>Dado que el administrador tiene configurado su correo en la aplicación<br>Cuando el reporte semanal es generado<br>Entonces el sistema envía automáticamente el reporte en formato PDF y Excel al correo registrado<br>Y el administrador recibe una notificación de confirmación en la app<br><br>**Scenario 3: Contenido del reporte**<br>Dado que el administrador consulta su reporte semanal<br>Cuando el reporte es mostrado en la app<br>Entonces el sistema presenta los datos de consumo total en kWh, costo estimado y desglose por áreas o dispositivos<br>Y muestra comparaciones con semanas anteriores para identificar patrones de consumo<br><br>**Scenario 4: Acceso a reportes pasados**<br>Dado que el administrador quiere revisar reportes de semanas anteriores<br>Cuando selecciona una semana en el calendario dentro de “Historial corporativo”<br>Entonces el sistema muestra el reporte correspondiente a esa semana con el mismo formato |
| HU17 | HU17 | Hogar | Alertas de exceso | Como usuario de hogar, quiero recibir alertas cuando supere un umbral de consumo para reaccionar a tiempo. | **Scenario 1: Configuración de umbral de consumo**<br>Dado que el usuario se encuentra en la sección "Configuración de alertas"<br>Cuando el usuario establece un valor límite de consumo diario o mensual en kWh<br>Entonces el sistema guarda ese umbral como referencia para generar alertas<br><br>**Scenario 2: Generación de alerta por exceso de consumo**<br>Dado que el sistema monitorea el consumo energético en tiempo real<br>Y el usuario configuró un umbral de consumo<br>Cuando el consumo acumulado supera el umbral definido<br>Entonces el sistema genera automáticamente una alerta<br>Y muestra el mensaje “Has superado tu límite de consumo” en la sección de notificaciones<br><br>**Scenario 3: Envío de notificación push**<br>Dado que el usuario tiene habilitadas las notificaciones en su dispositivo<br>Cuando el sistema genera una alerta por exceso de consumo<br>Entonces el sistema envía una notificación push con el detalle del exceso detectado<br>Y el usuario puede acceder desde la notificación al detalle de consumo<br><br>**Scenario 4: Consulta de historial de alertas**<br>Dado que el usuario ingresa al historial de alertas en la aplicación<br>Cuando el sistema muestra las alertas pasadas<br>Entonces se presentan la fecha, hora y nivel de exceso de cada alerta registrada |
| HU18 | HU18 | PYME | Alertas de picos energéticos | Como administrador de PYME, quiero recibir alertas automáticas en picos de consumo para identificar anomalías. | **Scenario 1: Configuración de umbral de pico energético**<br>Dado que el administrador accede a la sección "Configuración de alertas"<br>Cuando define un umbral de consumo máximo en kWh por hora o por área<br>Entonces el sistema guarda este umbral para detectar futuros picos energéticos<br><br>**Scenario 2: Generación de alerta por pico energético**<br>Dado que el sistema monitorea el consumo energético en tiempo real por áreas/departamentos<br>Y existe un umbral de pico configurado<br>Cuando se detecta que el consumo supera ese umbral en un periodo corto de tiempo<br>Entonces el sistema genera automáticamente una alerta de pico energético<br>Y muestra un mensaje en la sección de notificaciones<br><br>**Scenario 3: Envío de notificación corporativa**<br>Dado que el administrador tiene habilitadas las notificaciones en la plataforma<br>Cuando ocurre un pico energético y el sistema genera una alerta<br>Entonces se envía una notificación al administrador con los detalles (área, hora, nivel de consumo)<br><br>**Scenario 4: Consulta de historial de alertas de picos**<br>Dado que el administrador accede al historial de alertas en la plataforma<br>Cuando el sistema lista las alertas anteriores<br>Entonces se muestran los registros con fecha, hora, área afectada y nivel del pico detectado |
| HU19 | HU19 | Hogar | Historial de consumo | Como usuario de hogar, quiero ver un historial gráfico de mi consumo energético para analizar mis tendencias. | **Scenario 1: Acceso al historial de consumo**<br>Dado que el usuario de hogar inicia sesión en la plataforma<br>Cuando accede a la sección "Historial de consumo"<br>Entonces el sistema muestra un gráfico con el consumo energético registrado en los últimos días<br><br>**Scenario 2: Visualización por periodos de tiempo**<br>Dado que el sistema muestra el historial de consumo en un gráfico<br>Cuando el usuario selecciona un rango de tiempo (diario, semanal, mensual)<br>Entonces el gráfico se actualiza mostrando los datos correspondientes a ese periodo<br><br>**Scenario 3: Detalle de consumo en puntos del gráfico**<br>Dado que el gráfico de historial de consumo está visible<br>Cuando el usuario pasa el cursor o toca un punto específico del gráfico<br>Entonces el sistema muestra el valor exacto del consumo correspondiente a esa fecha y hora<br><br>**Scenario 4: Exportación del historial de consumo**<br>Dado que el usuario desea conservar un registro fuera de la plataforma<br>Cuando selecciona la opción "Exportar historial"<br>Entonces el sistema genera un archivo descargable (CSV o PDF) con los datos del consumo energético en el rango seleccionado |
| HU20 | HU20 | PYME | Historial corporativo avanzado | Como administrador de PYME, quiero generar reportes históricos avanzados para evaluar el impacto de medidas de ahorro. | **Scenario 1: Acceso al historial corporativo**<br>Dado que el administrador de PYME inicia sesión en la plataforma<br>Cuando accede a la sección "Historial corporativo avanzado"<br>Entonces el sistema muestra un panel con las métricas históricas de consumo energético de la empresa<br><br>**Scenario 2: Selección de periodos personalizados**<br>Dado que el administrador visualiza el historial corporativo<br>Cuando selecciona un rango de fechas personalizado (ejemplo: últimos 6 meses o un año específico)<br>Entonces el sistema actualiza los gráficos y tablas con los datos correspondientes a ese rango<br><br>**Scenario 3: Comparación entre periodos**<br>Dado que el sistema muestra el historial de consumo corporativo<br>Cuando el administrador selecciona dos periodos distintos (ejemplo: 2023 vs 2024)<br>Entonces el sistema presenta un reporte comparativo que muestra diferencias de consumo y tendencias<br><br>**Scenario 4: Evaluación de impacto de medidas de ahorro**<br>Dado que el sistema tiene datos históricos registrados<br>Cuando el administrador activa la opción "Evaluar impacto" sobre periodos donde se aplicaron medidas de ahorro<br>Entonces el sistema genera un reporte resaltando reducciones o incrementos en el consumo energético y calcula el porcentaje de variación<br><br>**Scenario 5: Exportación de reportes históricos**<br>Dado que el administrador requiere almacenar los datos fuera de la plataforma<br>Cuando selecciona la opción "Exportar historial avanzado"<br>Entonces el sistema genera un archivo descargable (CSV o PDF) con los gráficos, métricas y comparaciones seleccionadas |
| HU21 | HU21 | Hogar | Comparativa mensual | Como usuario de hogar, quiero comparar mi consumo mensual con meses anteriores para evaluar mi progreso. | **Scenario 1: Acceso a la comparativa mensual**<br>Dado que el usuario de hogar inicia sesión en la plataforma<br>Cuando accede a la sección "Comparativa mensual"<br>Entonces el sistema muestra un gráfico con el consumo del mes actual y de los últimos meses<br><br>**Scenario 2: Selección de meses anteriores**<br>Dado que el usuario está visualizando la comparativa mensual<br>Cuando selecciona uno o más meses anteriores en el filtro<br>Entonces el sistema actualiza el gráfico mostrando el consumo de los meses seleccionados junto al consumo actual<br><br>**Scenario 3: Indicador de progreso**<br>Dado que el sistema presenta los datos de consumo mensual<br>Cuando el usuario visualiza la comparativa<br>Entonces el sistema muestra un indicador visual (ejemplo: porcentaje de aumento o reducción) para señalar la evolución frente a meses anteriores<br><br>**Scenario 4: Descarga de reporte mensual**<br>Dado que el usuario quiere guardar los resultados de la comparativa<br>Cuando selecciona la opción "Descargar comparativa mensual"<br>Entonces el sistema genera un archivo en formato PDF o CSV con la información de consumo comparativo<br><br>**Scenario 5: Consumo superior al promedio**<br>Dado que el sistema detecta que el consumo del mes actual es mayor al promedio de los meses anteriores<br>Cuando se actualiza la comparativa mensual<br>Entonces el sistema muestra una alerta informativa recomendando revisar hábitos de consumo |
| HU22 | HU22 | PYME | Comparativa entre sedes | Como administrador de PYME, quiero comparar el consumo energético entre distintas sedes para detectar ineficiencias. | **Scenario 1: Acceso a la comparativa entre sedes**<br>Dado que el administrador de PYME inicia sesión en la plataforma<br>Cuando accede a la sección "Comparativa entre sedes"<br>Entonces el sistema muestra una tabla y/o gráfico con el consumo energético de cada sede registrada en la cuenta<br><br>**Scenario 2: Selección de rango de fechas**<br>Dado que el administrador se encuentra en la sección de comparativa entre sedes<br>Cuando selecciona un rango de fechas específico<br>Entonces el sistema actualiza los datos de consumo para mostrar solo el consumo de las sedes en ese rango de fechas<br><br>**Scenario 3: Identificación de sede con mayor consumo**<br>Dado que el sistema presenta los datos de todas las sedes en un gráfico comparativo<br>Cuando se actualizan los valores<br>Entonces el sistema resalta la sede con mayor consumo con un indicador visual (ejemplo: color resaltado o ícono de advertencia)<br><br>**Scenario 4: Exportación de comparativa**<br>Dado que el administrador necesita registrar los datos para análisis externo<br>Cuando selecciona la opción "Exportar comparativa"<br>Entonces el sistema genera un archivo en formato PDF o Excel con el detalle de consumo energético de cada sede<br><br>**Scenario 5: Generación de alertas automáticas**<br>Dado que la comparativa entre sedes identifica una diferencia significativa en el consumo (ejemplo: una sede con un 30% más de consumo que el promedio)<br>Cuando se guarda la comparativa<br>Entonces el sistema genera una alerta automática notificando al administrador sobre la anomalía detectada |
| HU23 | HU23 | Hogar | Notificaciones push | Como usuario de hogar, quiero recibir notificaciones push sobre mi consumo para estar informado en tiempo real. | **Scenario 1: Activación de notificaciones**<br>Dado que el usuario de hogar ha iniciado sesión en la aplicación<br>Cuando accede a la sección de configuración de notificaciones y activa la opción de "Notificaciones push"<br>Entonces el sistema guarda la preferencia y habilita el envío de notificaciones en tiempo real<br><br>**Scenario 2: Recepción de notificación por consumo excesivo**<br>Dado que el usuario tiene activadas las notificaciones push<br>Cuando su consumo energético diario supera el umbral configurado en su perfil<br>Entonces el sistema envía una notificación push con el mensaje de advertencia y el detalle del consumo<br><br>**Scenario 3: Notificación de reporte diario disponible**<br>Dado que el sistema genera automáticamente el reporte diario de consumo<br>Cuando el reporte está listo para visualizarse<br>Entonces el usuario recibe una notificación push indicando que puede revisar su reporte en la aplicación<br><br>**Scenario 4: Sincronización de notificaciones en múltiples dispositivos**<br>Dado que el usuario de hogar tiene la aplicación instalada en más de un dispositivo (ejemplo: móvil y tablet)<br>Cuando se genera una notificación push<br>Entonces el sistema envía la notificación a todos los dispositivos vinculados con la misma cuenta<br><br>**Scenario 5: Desactivación de notificaciones**<br>Dado que el usuario ya no desea recibir notificaciones en tiempo real<br>Cuando desactiva la opción de "Notificaciones push" en la configuración<br>Entonces el sistema detiene el envío de notificaciones hasta que el usuario las active nuevamente |
| HU24 | HU24 | PYME | Notificaciones por correo | Como administrador de PYME, quiero recibir alertas por correo sobre consumos inusuales para actuar oportunamente. | **Scenario 1: Configuración de alertas por correo**<br>Dado que el administrador de PYME ha iniciado sesión en la plataforma<br>Cuando accede a la sección de notificaciones y activa la opción "Alertas por correo"<br>Entonces el sistema guarda la preferencia y habilita el envío de correos ante consumos inusuales<br><br>**Scenario 2: Envío de alerta por consumo inusual**<br>Dado que el administrador tiene activadas las alertas por correo<br>Cuando el sistema detecta un consumo que supera el umbral definido en la configuración de la empresa<br>Entonces se envía un correo automático al administrador con el detalle del evento de consumo<br><br>**Scenario 3: Recepción en múltiples destinatarios**<br>Dado que el administrador ha registrado varios correos de responsables de área<br>Cuando ocurre un evento de consumo inusual<br>Entonces el sistema envía la notificación a todos los correos registrados en la configuración<br><br>**Scenario 4: Confirmación de envío exitoso**<br>Dado que el sistema genera una alerta por correo<br>Cuando el mensaje es enviado<br>Entonces el sistema registra en el historial de notificaciones que el correo fue entregado exitosamente<br><br>**Scenario 5: Desactivación de alertas por correo**<br>Dado que el administrador ya no desea recibir alertas por correo<br>Cuando desactiva la opción en la configuración de notificaciones<br>Entonces el sistema detiene el envío de correos hasta que se reactive nuevamente |
### Epic 4 – Inteligencia Artificial (IA Verde)
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU25 | HU25 | Hogar | Recomendaciones básicas IA | Como usuario de hogar, quiero recibir recomendaciones simples para ahorrar energía en base a mis datos. | **Scenario 1: Generación de recomendaciones iniciales**<br>Dado que el usuario de hogar ha registrado sus dispositivos y hábitos en la plataforma<br>Cuando la IA analiza los primeros datos de consumo<br>Entonces el sistema muestra recomendaciones básicas personalizadas en la sección de “Consejos de ahorro”<br><br>**Scenario 2: Actualización automática de recomendaciones**<br>Dado que el usuario tiene un historial de consumo activo<br>Cuando se detectan cambios en sus patrones de uso<br>Entonces la IA actualiza las recomendaciones y las muestra en el panel principal<br><br>**Scenario 3: Visualización en el dashboard**<br>Dado que el usuario inicia sesión en la plataforma<br>Cuando accede al dashboard de consumo<br>Entonces el sistema despliega un bloque con las recomendaciones actuales generadas por la IA<br><br>**Scenario 4: Diferenciación según tipo de dispositivo**<br>Dado que la IA identifica distintos dispositivos conectados (ejemplo: refrigerador, luces, aire acondicionado)<br>Cuando genera las recomendaciones<br>Entonces el sistema especifica consejos vinculados a cada tipo de dispositivo<br><br>**Scenario 5: Registro de interacción del usuario**<br>Dado que el usuario lee una recomendación<br>Cuando marca la opción “Aplicado” o “No relevante”<br>Entonces el sistema registra la respuesta y ajusta las recomendaciones futuras de acuerdo con las elecciones del usuario |
| HU26 | HU26 | PYME | Recomendaciones IA corporativas | Como administrador de PYME, quiero obtener sugerencias de IA sobre cómo reducir costos energéticos en mis operaciones. | **Scenario 1: Visualización inicial de recomendaciones de IA**<br>Dado que el administrador ha iniciado sesión en el sistema<br>Y el sistema tiene acceso a datos históricos de consumo energético de la empresa<br>Cuando el administrador abre la sección “Recomendaciones de IA”<br>Entonces el sistema muestra un panel con sugerencias personalizadas de ahorro energético<br>Y cada sugerencia incluye una breve explicación comprensible para el usuario.<br><br>**Scenario 2: Actualización periódica de recomendaciones**<br>Dado que el sistema ya generó recomendaciones previas<br>Cuando el sistema detecta nueva información de consumo energético o llega la fecha de actualización programada (ej. semanal)<br>Entonces el sistema recalcula las recomendaciones<br>Y el administrador visualiza un mensaje indicando que hay sugerencias actualizadas.<br><br>**Scenario 3: Exportar recomendaciones**<br>Dado que el administrador visualiza el panel de recomendaciones de IA<br>Cuando el administrador selecciona la opción “Exportar reporte”<br>Entonces el sistema genera un archivo descargable con las recomendaciones y explicaciones en formato PDF o Excel<br>Y el archivo incluye la fecha de generación del reporte. |
| HU27 | HU27 | Hogar | Optimización automática IA | Como usuario de hogar, quiero que la IA configure mis dispositivos automáticamente para optimizar mi consumo sin esfuerzo. | **Scenario 1: Activación de optimización automática**<br>Dado que el usuario de hogar ha iniciado sesión en el sistema<br>Y tiene dispositivos inteligentes vinculados a su cuenta<br>Cuando el usuario activa la opción “Optimización automática con IA” en la configuración<br>Entonces el sistema ajusta automáticamente los dispositivos (ej. aire acondicionado, luces, electrodomésticos) según patrones de uso eficientes<br>Y muestra una notificación confirmando que la optimización está activa.<br><br>**Scenario 2: Ajustes en tiempo real por la IA**<br>Dado que la opción de “Optimización automática con IA” está activa<br>Cuando el sistema detecta un consumo elevado en un dispositivo fuera de lo normal<br>Entonces la IA ajusta la configuración de dicho dispositivo para reducir el consumo<br>Y envía una notificación al usuario indicando la acción tomada.<br><br>**Scenario 3: Desactivación de optimización automática**<br>Dado que la IA está gestionando automáticamente los dispositivos del hogar<br>Cuando el usuario desactiva la opción de “Optimización automática con IA”<br>Entonces el sistema detiene cualquier ajuste automático<br>Y los dispositivos mantienen su última configuración manual. |
| HU28 | HU28 | PYME | Estrategias automáticas IA corporativas | Como administrador de PYME, quiero que la IA ajuste automáticamente el consumo de mi empresa para reducir costos y huella de carbono. | **Scenario 1: Activación de estrategias automáticas IA**<br>Dado que el administrador de la PYME tiene acceso al panel de control energético<br>Y existen dispositivos y medidores vinculados a la empresa<br>Cuando el administrador activa la opción “Estrategias automáticas con IA” en el sistema<br>Entonces la IA analiza los patrones de consumo corporativo<br>Y ajusta automáticamente los dispositivos y horarios de operación para optimizar el uso energético.<br><br>**Scenario 2: Ajustes en tiempo real para reducción de costos**<br>Dado que la opción “Estrategias automáticas con IA” está activa<br>Cuando el sistema detecta un pico de consumo en horas de alta demanda energética<br>Entonces la IA redistribuye las cargas de trabajo y pospone procesos no críticos<br>Y envía una alerta al administrador informando las acciones tomadas y el ahorro estimado.<br><br>**Scenario 3: Ajustes en tiempo real para reducir huella de carbono**<br>Dado que el sistema está optimizando automáticamente el consumo<br>Cuando la IA identifica oportunidades de reducción de emisiones (ej. priorizar energía renovable disponible)<br>Entonces ajusta los dispositivos y procesos corporativos para maximizar el uso de energía limpia<br>Y genera un reporte con el impacto ambiental reducido.<br><br>**Scenario 4: Desactivación de estrategias automáticas IA**<br>Dado que la IA está gestionando automáticamente el consumo corporativo<br>Cuando el administrador desactiva la opción de “Estrategias automáticas con IA”<br>Entonces el sistema detiene los ajustes automáticos<br>Y los dispositivos vuelven a su configuración estándar de operación. |
### Epic 5 – Accesibilidad y Compatibilidad
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU29 | HU29 | Hogar | Compatibilidad multiplataforma | Como usuario de hogar, quiero que la aplicación esté disponible en iOS y Android para acceder desde cualquier dispositivo. | **Scenario 1: Instalación en iOS**<br>Dado que el usuario tiene un dispositivo con sistema operativo iOS<br>Cuando el usuario accede a la App Store y busca la aplicación<br>Entonces el sistema permite descargar e instalar la aplicación correctamente<br>Y la aplicación se ejecuta sin errores en iOS.<br><br>**Scenario 2: Instalación en Android**<br>Dado que el usuario tiene un dispositivo con sistema operativo Android<br>Cuando el usuario accede a Google Play Store y busca la aplicación<br>Entonces el sistema permite descargar e instalar la aplicación correctamente<br>Y la aplicación se ejecuta sin errores en Android.<br><br>**Scenario 3: Sincronización entre dispositivos**<br>Dado que el usuario tiene la aplicación instalada en un dispositivo iOS y en un dispositivo Android con la misma cuenta<br>Cuando inicia sesión en ambos dispositivos<br>Entonces el sistema sincroniza los datos de consumo, reportes y configuraciones<br>Y el usuario puede acceder a la misma información en ambos dispositivos.<br><br>**Scenario 4: Interfaz adaptativa**<br>Dado que la aplicación está instalada en un dispositivo iOS o Android<br>Cuando el usuario abre la aplicación<br>Entonces la interfaz se adapta correctamente a las dimensiones y resoluciones de la pantalla del dispositivo<br>Y mantiene la misma experiencia de uso en ambas plataformas. |
| HU30 | HU30 | PYME | Acceso web empresarial | Como administrador de PYME, quiero poder acceder a la plataforma vía web para gestionarla desde mi oficina. | **Scenario 1: Acceso desde navegador**<br>Dado que el administrador cuenta con un navegador actualizado en su equipo de oficina<br>Cuando ingresa la URL de la plataforma en la barra de direcciones<br>Entonces el sistema muestra la pantalla de inicio de sesión<br>Y permite al administrador autenticarse correctamente.<br><br>**Scenario 2: Inicio de sesión seguro**<br>Dado que el administrador ingresa su usuario y contraseña válidos<br>Cuando presiona el botón “Iniciar sesión”<br>Entonces el sistema valida las credenciales<br>Y muestra el panel de control empresarial.<br><br>**Scenario 3: Gestión completa desde web**<br>Dado que el administrador accedió al panel de control empresarial vía web<br>Cuando navega por las diferentes secciones de la plataforma<br>Entonces el sistema le permite visualizar reportes, configurar dispositivos y recibir alertas<br>Y todas las funcionalidades disponibles en la aplicación móvil están también habilitadas en la versión web.<br><br>**Scenario 4: Compatibilidad de navegadores**<br>Dado que el administrador utiliza navegadores como Google Chrome, Microsoft Edge o Mozilla Firefox<br>Cuando accede a la plataforma web<br>Entonces el sistema muestra la interfaz correctamente<br>Y todas las funcionalidades responden sin errores en los navegadores soportados. |
### Epic 6 – Landing Page
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU31 | HU31 | Visitante Hogar | Información general del producto | Como visitante interesado en mejorar el consumo energético en mi hogar, quiero acceder a información clara sobre la plataforma para entender cómo me beneficia. | **Scenario 1: Acceso a información pública**<br>Dado que el visitante ingresa a la aplicación o página web sin necesidad de autenticarse<br>Cuando selecciona la sección “Información del producto”<br>Entonces el sistema muestra una descripción general del producto, características principales y beneficios.<br><br>**Scenario 2: Visualización de funcionalidades**<br>Dado que el visitante se encuentra en la sección “Información del producto”<br>Cuando navega en la interfaz<br>Entonces el sistema presenta de manera clara las funcionalidades básicas, como monitoreo de consumo, reportes y alertas.<br><br>**Scenario 3: Recomendaciones generales**<br>Dado que el visitante revisa la información del producto<br>Cuando llega a la sección de consejos o recomendaciones<br>Entonces el sistema muestra sugerencias simples para ahorrar energía<br>Y dichas sugerencias no requieren personalización ni datos de consumo del usuario.<br><br>**Scenario 4: Llamada a la acción**<br>Dado que el visitante explora la información general<br>Cuando visualiza botones o enlaces destacados<br>Entonces el sistema muestra opciones para registrarse, iniciar sesión o solicitar más información sobre el producto. |
| HU32 | HU32 | Visitante PYME | Beneficios empresariales | Como visitante administrador de una PYME, quiero visualizar los beneficios del sistema para empresas para evaluar su impacto en mis costos operativos. | **Scenario 1: Acceso sin autenticación**<br>Dado que el visitante PYME ingresa a la plataforma sin estar registrado<br>Cuando selecciona la sección “Beneficios empresariales”<br>Entonces el sistema muestra una introducción con las ventajas generales para empresas.<br><br>**Scenario 2: Visualización de beneficios clave**<br>Dado que el visitante se encuentra en la sección de beneficios<br>Cuando navega por la información presentada<br>Entonces el sistema detalla beneficios como reducción de costos energéticos, monitoreo centralizado y optimización por IA.<br><br>**Scenario 3: Casos de uso ilustrativos**<br>Dado que el visitante explora la información<br>Cuando accede al apartado de ejemplos<br>Entonces el sistema muestra casos de uso simplificados en contextos de oficina, planta o tienda.<br><br>**Scenario 4: Llamada a la acción empresarial**<br>Dado que el visitante ha revisado los beneficios<br>Cuando aparece un botón destacado<br>Entonces el sistema ofrece opciones para registrarse como empresa o solicitar una demo corporativa. |
| HU33 | HU33 | Visitante | Casos de éxito | Como visitante, quiero consultar casos de éxito reales para confiar en la efectividad de la solución antes de registrarme. | **Scenario 1: Acceso público**<br>Dado que el visitante ingresa a la plataforma sin necesidad de estar registrado<br>Cuando selecciona la sección “Casos de éxito”<br>Entonces el sistema muestra una lista de testimonios e implementaciones exitosas.<br><br>**Scenario 2: Visualización detallada**<br>Dado que el visitante se encuentra en la lista de casos de éxito<br>Cuando selecciona un caso específico<br>Entonces el sistema muestra información detallada sobre el problema inicial, la solución implementada y los resultados obtenidos.<br><br>**Scenario 3: Filtrado por tipo de usuario**<br>Dado que el visitante accede a la sección de casos de éxito<br>Cuando utiliza el filtro “Hogar” o “PYME”<br>Entonces el sistema muestra únicamente los casos correspondientes al tipo de usuario elegido.<br><br>**Scenario 4: Llamada a la acción**<br>Dado que el visitante ha revisado uno o más casos de éxito<br>Cuando llega al final de la página<br>Entonces el sistema muestra un botón destacado para registrarse o solicitar más información sobre la plataforma. |
| HU34 | HU34 | Visitante | Contacto y demo | Como visitante, quiero disponer de un formulario de contacto. | **Scenario 1: Acceso al formulario**<br>Dado que el visitante ingresa a la página principal<br>Cuando selecciona la opción “Contacto” en el menú de navegación<br>Entonces el sistema muestra un formulario con los campos: nombre, correo electrónico, empresa (opcional), mensaje y botón de enviar.<br><br>**Scenario 2: Validación de campos obligatorios**<br>Dado que el visitante está en el formulario de contacto<br>Cuando intenta enviarlo sin completar los campos obligatorios (nombre y correo electrónico)<br>Entonces el sistema muestra un mensaje de error indicando los campos que deben completarse.<br><br>**Scenario 3: Envío exitoso**<br>Dado que el visitante completa correctamente el formulario de contacto<br>Cuando hace clic en el botón “Enviar”<br>Entonces el sistema registra la solicitud y muestra un mensaje de confirmación “Tu solicitud fue enviada con éxito, pronto nos pondremos en contacto contigo”.<br><br>**Scenario 5: Notificación interna**<br>Dado que un visitante completa y envía el formulario de contacto o demo<br>Cuando el sistema procesa la solicitud<br>Entonces la plataforma envía una notificación interna al equipo de soporte/ventas con los datos registrados. |
| HU35 | HU35 | Visitante | Comparativa de planes | Como visitante, quiero ver la comparativa de planes y precios para elegir la opción que se ajuste mejor a mis necesidades. | **Scenario 1: Acceso a la sección de planes**<br>Dado que el visitante se encuentra en la página principal<br>Cuando selecciona la opción “Planes y precios” en el menú de navegación<br>Entonces el sistema muestra una tabla comparativa con los diferentes planes disponibles.<br><br>**Scenario 2: Visualización de características**<br>Dado que el visitante accede a la tabla de planes<br>Cuando revisa la comparativa<br>Entonces el sistema muestra de manera clara las características, beneficios, limitaciones y precios de cada plan.<br><br>**Scenario 3: Plan destacado**<br>Dado que la plataforma ofrece un plan recomendado<br>Cuando el visitante observa la comparativa<br>Entonces el sistema resalta visualmente el plan más popular o recomendado (ejemplo: con un borde, color o etiqueta “Más elegido”).<br><br>**Scenario 4: Selección de plan**<br>Dado que el visitante identifica un plan de su interés<br>Cuando hace clic en el botón “Seleccionar” o “Más información” dentro de dicho plan<br>Entonces el sistema redirige al formulario de registro, demo gratuita o pago según corresponda.<br><br>**Scenario 5: Responsividad**<br>Dado que el visitante accede desde distintos dispositivos (PC, tablet o móvil)<br>Cuando visualiza la tabla comparativa<br>Entonces el sistema adapta el diseño para que la información sea clara y fácil de leer en cualquier dispositivo.
### Epic 7 – Desarrollo Técnico (RESTful API)
| #HU | HU ID | Tipo Usuario | Nombre HU | Descripción | Criterios de Aceptación |
|-----|-------|--------------|-----------|------------|------------------------|
| HU36 | HU36 | Developer | Endpoint de autenticación | Como desarrollador, quiero un endpoint de autenticación basado en JWT para gestionar de forma segura el acceso a la aplicación. | **Scenario 1: Solicitud de autenticación exitosa**<br>Dado que el desarrollador envía una solicitud POST al endpoint de autenticación con credenciales válidas (usuario y contraseña)<br>Cuando el sistema valida dichas credenciales en la base de datos<br>Entonces el sistema responde con un token JWT válido que incluye el identificador del usuario y tiempo de expiración.<br><br>**Scenario 2: Solicitud de autenticación fallida**<br>Dado que el desarrollador envía credenciales incorrectas al endpoint de autenticación<br>Cuando el sistema intenta validar los datos<br>Entonces el sistema responde con un código de error HTTP 401 (Unauthorized) y un mensaje indicando “Credenciales inválidas”.<br><br>**Scenario 3: Expiración del token**<br>Dado que el desarrollador utiliza un token JWT previamente generado<br>Cuando el tiempo de validez del token ha expirado<br>Entonces el sistema rechaza la solicitud y devuelve un error 401 (Unauthorized) con el mensaje “Token expirado”.<br><br>**Scenario 4: Verificación del token en peticiones**<br>Dado que el desarrollador realiza una solicitud a un endpoint protegido<br>Cuando incluye un token JWT válido en la cabecera de autorización<br>Entonces el sistema valida el token y concede acceso a los recursos solicitados.<br><br>**Scenario 5: Token inválido o manipulado**<br>Dado que el desarrollador envía un token JWT alterado o inválido en la cabecera de autorización<br>Cuando el sistema intenta validar el token<br>Entonces rechaza la solicitud y responde con un error 403 (Forbidden) indicando que el token no es válido. |
| HU37 | HU37 | Developer | Endpoint de consumo energético | Como desarrollador, quiero exponer un endpoint que devuelva el consumo energético en tiempo real para mostrarlo en la app Angular. | **Scenario 1: Consulta de consumo en tiempo real exitosa**<br>Dado que el desarrollador envía una solicitud GET al endpoint /api/consumo/realtime con un token JWT válido<br>Cuando el sistema obtiene los datos de consumo de los dispositivos asociados al usuario<br>Entonces responde con un objeto JSON que contiene el valor de consumo actual, la fecha y hora de la medición.<br><br>**Scenario 2: Usuario sin dispositivos registrados**<br>Dado que el usuario autenticado no tiene dispositivos asociados en la base de datos<br>Cuando se solicita el consumo en tiempo real<br>Entonces el sistema responde con un objeto JSON vacío o con valores en cero, junto con un mensaje “No se encontraron dispositivos registrados”.<br><br>**Scenario 3: Token no válido**<br>Dado que el desarrollador realiza la solicitud al endpoint sin incluir un token JWT válido en la cabecera<br>Cuando el sistema intenta validar la autenticación<br>Entonces responde con un código 401 (Unauthorized) y un mensaje “Acceso no autorizado”.<br><br>**Scenario 4: Error en la obtención de datos**<br>Dado que el desarrollador envía una solicitud correcta al endpoint<br>Cuando ocurre un error en la consulta a la base de datos o al servicio de monitoreo<br>Entonces el sistema responde con un código 500 (Internal Server Error) y un mensaje “Error al obtener datos de consumo energético”. |
| HU38 | HU38 | Developer | Endpoint de control de dispositivos | Como desarrollador, quiero un endpoint para encender/apagar dispositivos conectados a los actuadores para que el frontend gestione el control remoto. | **Scenario 1: Encendido exitoso de dispositivo**<br>Dado que el desarrollador envía una solicitud POST al endpoint /api/dispositivos/control con un token JWT válido y un cuerpo JSON con {“deviceId": "123", "action": "on”}<br>Cuando el sistema procesa la solicitud y actualiza el estado del dispositivo en la base de datos<br>Entonces responde con un código 200 y un mensaje “Dispositivo encendido correctamente”.<br><br>**Scenario 2: Apagado exitoso de dispositivo**<br>Dado que el desarrollador envía una solicitud POST al endpoint /api/dispositivos/control con un token JWT válido y un cuerpo JSON con {“deviceId": "123", "action": "off”}<br>Cuando el sistema procesa la solicitud y actualiza el estado del dispositivo en la base de datos<br>Entonces responde con un código 200 y un mensaje “Dispositivo apagado correctamente”.<br><br>**Scenario 3: Token no válido**<br>Dado que el desarrollador realiza la solicitud al endpoint sin incluir un token JWT válido<br>Cuando el sistema intenta autenticar la solicitud<br>Entonces responde con un código 401 (Unauthorized) y un mensaje “Acceso no autorizado”.<br><br>**Scenario 4: Dispositivo no encontrado**<br>Dado que el desarrollador envía una solicitud con un deviceId inexistente en la base de datos<br>Cuando el sistema intenta ejecutar la acción<br>Entonces responde con un código 404 (Not Found) y un mensaje “Dispositivo no encontrado”.<br><br>**Scenario 5: Error en la ejecución de la acción**<br>Dado que el desarrollador envía una solicitud válida<br>Cuando ocurre un error en la comunicación con el actuador o en la base de datos<br>Entonces el sistema responde con un código 500 (Internal Server Error) y un mensaje “Error al ejecutar la acción sobre el dispositivo”. |
| HU39 | HU39 | Developer | Endpoint de reportes históricos | Como desarrollador, quiero un endpoint para obtener el historial de consumo energético por rango de fechas para alimentar los reportes de la app. | **Scenario 1: Consulta exitosa de historial por rango de fechas**<br>Dado que el desarrollador envía una solicitud GET al endpoint /api/reportes/historicos?fechaInicio=2025-01-01&fechaFin=2025-01-31 con un token JWT válido<br>Cuando el sistema valida el token y procesa la solicitud<br>Entonces responde con un código 200 y un cuerpo JSON que contiene la lista de registros de consumo energético dentro del rango de fechas solicitado.<br><br>**Scenario 2: Falta de parámetros de fechas**<br>Dado que el desarrollador envía una solicitud al endpoint sin incluir fechaInicio o fechaFin<br>Cuando el sistema intenta procesar la solicitud<br>Entonces responde con un código 400 (Bad Request) y un mensaje “Parámetros de fecha requeridos”.<br><br>**Scenario 3: Rango de fechas inválido**<br>Dado que el desarrollador envía un rango en el que fechaFin es anterior a fechaInicio<br>Cuando el sistema valida los parámetros<br>Entonces responde con un código 400 (Bad Request) y un mensaje “Rango de fechas inválido”.<br><br>**Scenario 4: Token no válido o ausente**<br>Dado que el desarrollador realiza la solicitud sin un token JWT válido<br>Cuando el sistema intenta autenticar la solicitud<br>Entonces responde con un código 401 (Unauthorized) y un mensaje “Acceso no autorizado”.<br><br>**Scenario 5: Sin datos en el rango solicitado**<br>Dado que el desarrollador solicita un rango de fechas válido<br>Cuando no existen registros de consumo energético en ese periodo<br>Entonces el sistema responde con un código 200 y un cuerpo JSON con una lista vacía.<br><br>**Scenario 6: Error interno del servidor**<br>Dado que el desarrollador envía una solicitud válida<br>Cuando ocurre un error inesperado en la base de datos o el backend<br>Entonces el sistema responde con un código 500 (Internal Server Error) y un mensaje “Error al generar el reporte histórico”. |
| HU40 | HU40 | Developer | Endpoint de recomendaciones IA | Como desarrollador, quiero un endpoint que entregue recomendaciones de ahorro energético para que el frontend las muestre de manera personalizada. | **Scenario 1: Solicitud exitosa de recomendaciones personalizadas**<br>Dado que el desarrollador envía una solicitud GET al endpoint /api/recomendaciones/ia con un token JWT válido y un parámetro userId=123<br>Cuando el sistema procesa la solicitud y consulta el motor de IA con los datos de consumo del usuario<br>Entonces responde con un código 200 y un cuerpo JSON que contiene una lista de recomendaciones personalizadas.<br><br>**Scenario 2: Token no válido o ausente**<br>Dado que el desarrollador realiza la solicitud sin incluir un token JWT válido<br>Cuando el sistema intenta autenticar la solicitud<br>Entonces responde con un código 401 (Unauthorized) y un mensaje “Acceso no autorizado”.<br><br>**Scenario 3: Falta de parámetros requeridos**<br>Dado que el desarrollador envía la solicitud sin incluir el parámetro userId<br>Cuando el sistema valida los parámetros de entrada<br>Entonces responde con un código 400 (Bad Request) y un mensaje “El parámetro userId es requerido”.<br><br>**Scenario 4: Recomendaciones no disponibles**<br>Dado que el desarrollador envía una solicitud válida<br>Cuando el sistema no encuentra recomendaciones generadas para el usuario en ese momento<br>Entonces responde con un código 200 y un cuerpo JSON vacío o con un mensaje “No hay recomendaciones disponibles actualmente”.<br><br>**Scenario 5: Error interno del servidor**<br>Dado que el desarrollador envía una solicitud válida<br>Cuando ocurre un fallo inesperado en el motor de IA o en la base de datos<br>Entonces el sistema responde con un código 500 (Internal Server Error) y un mensaje “Error al generar recomendaciones de IA”. |
## 3.3. Impact Mapping
### Segmento 1: Hogares y Consumidores Individuales
![Impact Mapping Segmento 1](Impact%20Mapping%20segemento%201.png)
## Segmento 2: Pequeñas y Medianas Empresas (PYMEs)
![Impact Mapping Segmento 2](Impact%20Mapping%20segemento%202.png)
## 3.4. Product Backlog
| Orden | User Story Id | Título | Descripción | Story Points |
| --- | --- | --- | --- | --- |
| 1 | HU01 | 🏠 Registro de cuenta | Como usuario de hogar, quiero registrarme en la plataforma para comenzar a gestionar mi consumo energético. | 3 |
| 2 | HU02 | 🏢 Registro empresarial | Como administrador de PYME, quiero registrar mi empresa en la plataforma para gestionar el consumo energético de mis instalaciones. | 5 |
| 3 | HU03 | 🏠 Inicio de sesión | Como usuario de hogar, quiero iniciar sesión de forma segura para acceder a mis datos de consumo. | 3 |
| 4 | HU04 | 🏢 Inicio de sesión corporativo | Como administrador de PYME, quiero iniciar sesión corporativo para acceder a las métricas de mi organización. | 4 |
| 5 | HU17 | 🏢 Gestión de múltiples usuarios | Como administrador de PYME, quiero dar acceso a distintos roles (empleados, supervisores) para distribuir responsabilidades. | 5 |
| 6 | HU18 | 🏠 Personalización de perfil | Como usuario de hogar, quiero personalizar mi perfil con mis hábitos para recibir recomendaciones más relevantes. | 3 |
| 7 | HU05 | 🏠 Dashboard en tiempo real | Como usuario de hogar, quiero visualizar el consumo energético en un dashboard para monitorear mi gasto en tiempo real. | 5 |
| 8 | HU06 | 🏢 Dashboard empresarial | Como administrador de PYME, quiero ver un panel de consumo por áreas/departamentos para identificar ineficiencias. | 6 |
| 9 | HU07 | 🏠 Control remoto de dispositivos | Como usuario de hogar, quiero encender/apagar mis dispositivos desde la app para ahorrar energía. | 3 |
| 10 | HU08 | 🏢 Control remoto empresarial | Como administrador de PYME, quiero gestionar remotamente dispositivos de mi oficina para reducir gastos energéticos. | 5 |
| 11 | HU09 | 🏠 Programar horarios | Como usuario de hogar, quiero programar horarios de encendido/apagado de mis electrodomésticos para optimizar el consumo. | 4 |
| 12 | HU10 | 🏢 Programación grupal | Como administrador de PYME, quiero establecer horarios automáticos de apagado en áreas comunes para evitar consumos innecesarios. | 5 |
| 13 | HU23 | 🏠 Gestión de dispositivos | Como usuario de hogar, quiero registrar y administrar mis dispositivos conectados para organizarlos en la app. | 3 |
| 14 | HU24 | 🏢 Gestión masiva de dispositivos | Como administrador de PYME, quiero dar de alta y controlar múltiples dispositivos de manera centralizada para optimizar su uso. | 5 |
| 15 | HU11 | 🏠 Reporte diario | Como usuario de hogar, quiero recibir un reporte diario de mi consumo para tener visibilidad de mis hábitos. | 3 |
| 16 | HU12 | 🏢 Reporte semanal corporativo | Como administrador de PYME, quiero recibir reportes semanales consolidados para analizar patrones de consumo en mi empresa. | 5 |
| 17 | HU13 | 🏠 Alertas de exceso | Como usuario de hogar, quiero recibir alertas cuando supere un umbral de consumo para reaccionar a tiempo. | 3 |
| 18 | HU14 | 🏢 Alertas de picos energéticos | Como administrador de PYME, quiero recibir alertas automáticas en picos de consumo para identificar anomalías. | 4 |
| 19 | HU19 | 🏠 Historial de consumo | Como usuario de hogar, quiero ver un historial gráfico de mi consumo energético para analizar mis tendencias. | 4 |
| 20 | HU20 | 🏢 Historial corporativo avanzado | Como administrador de PYME, quiero generar reportes históricos avanzados para evaluar el impacto de medidas de ahorro. | 5 |
| 21 | HU21 | 🏠 Comparativa mensual | Como usuario de hogar, quiero comparar mi consumo mensual con meses anteriores para evaluar mi progreso. | 3 |
| 22 | HU22 | 🏢 Comparativa entre sedes | Como administrador de PYME, quiero comparar el consumo energético entre distintas sedes para detectar ineficiencias. | 4 |
| 23 | HU25 | 🏠 Notificaciones push | Como usuario de hogar, quiero recibir notificaciones push sobre mi consumo para estar informado en tiempo real. | 3 |
| 24 | HU26 | 🏢 Notificaciones por correo | Como administrador de PYME, quiero recibir alertas por correo sobre consumos inusuales para actuar oportunamente. | 3 |
| 25 | HU15 | 🏠 Recomendaciones básicas IA | Como usuario de hogar, quiero recibir recomendaciones simples para ahorrar energía en base a mis datos. | 4 |
| 26 | HU16 | 🏢 Recomendaciones IA corporativas | Como administrador de PYME, quiero obtener sugerencias de IA sobre cómo reducir costos energéticos en mis operaciones. | 5 |
| 27 | HU29 | 🏠 Optimización automática IA | Como usuario de hogar, quiero que la IA configure mis dispositivos automáticamente para optimizar mi consumo sin esfuerzo. | 5 |
| 28 | HU30 | 🏢 Estrategias automáticas IA corporativas | Como administrador de PYME, quiero que la IA ajuste automáticamente el consumo de mi empresa para reducir costos y huella de carbono. | 5 |
| 29 | HU27 | 🏠 Compatibilidad multiplataforma | Como usuario de hogar, quiero que la aplicación esté disponible en iOS y Android para acceder desde cualquier dispositivo. | 4 |
| 30 | HU28 | 🏢 Acceso web empresarial | Como administrador de PYME, quiero poder acceder a la plataforma vía web para gestionarla desde mi oficina. | 4 |
| 31 | HU31 | 👀 Información general del producto | Como visitante interesado en mejorar el consumo energético en mi hogar, quiero acceder a información clara sobre la plataforma para entender cómo me beneficia. | 2 |
| 32 | HU32 | 👀 Beneficios empresariales | Como visitante administrador de una PYME, quiero visualizar los beneficios del sistema para empresas para evaluar su impacto en mis costos operativos. | 2 |
| 33 | HU33 | 👀 Casos de éxito | Como visitante, quiero consultar casos de éxito reales para confiar en la efectividad de la solución antes de registrarme. | 2 |
| 34 | HU34 | 👀 Contacto | Como visitante, quiero disponer de un formulario de contacto. | 3 |
| 35 | HU35 | 👀 Comparativa de planes | Como visitante, quiero ver la comparativa de planes y precios para elegir la opción que se ajuste mejor a mis necesidades. | 3 |
| 36 | HU36 | 💻 Endpoint de autenticación | Como desarrollador, quiero un endpoint de autenticación basado en JWT para gestionar de forma segura el acceso a la aplicación. | 5 |
| 37 | HU37 | 💻 Endpoint de consumo energético | Como desarrollador, quiero exponer un endpoint que devuelva el consumo energético en tiempo real para mostrarlo en la app Angular. | 5 |
| 38 | HU38 | 💻 Endpoint de control de dispositivos | Como desarrollador, quiero un endpoint para encender/apagar dispositivos conectados a los actuadores para que el frontend gestione el control remoto. | 5 |
| 39 | HU39 | 💻 Endpoint de reportes históricos | Como desarrollador, quiero un endpoint para obtener el historial de consumo energético por rango de fechas para alimentar los reportes de la app. | 5 |
| 40 | HU40 | 💻 Endpoint de recomendaciones IA | Como desarrollador, quiero un endpoint que entregue recomendaciones de ahorro energético para que el frontend las muestre de manera personalizada. | 5 |

